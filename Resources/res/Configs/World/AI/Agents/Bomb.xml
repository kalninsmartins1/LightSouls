<?xml version="1.0" ?>
<Entity type="Bomb"
			moveSpeed="160"
			baseHealth="100"
			baseStamina="100"
			baseDamage="10"
			staminaRegenerateSpeed="2"
			staminaRegenerateDelay="1"
			>
			
	<Component type="TransformComponent">
		<Position x="200" y="1" z="0" />
		<Rotation x="0" y="0" z="0" />
		<Scale x="0.2" y="0.2" z="0.2"/>
	</Component>
	
	<Component  type="AIControllerComponent"
				patrolRadius="250"
				patrolPauseInSeconds="2"
				chaseStopDistance="60"
				chaseRadius="1500"
				startState="Idle">
		
		<State  type="Idle"				
				onSuccess="Chase"/>
		
		<State  type="Chase"
				onSuccess="Signaling"
				onFailure="Idle"/>

		<State  type="Attack"
				onSuccess="Pause"
				onFailure="Chase"/>
				
		<State 	type="Signaling"
				onSuccess="Attack"
				onFailure="Chase" 
				time="1.0"/>

		<State 	type="Pause"
				onSuccess="Chase"				
				time="1.0"/>				

	</Component>

	
	<Component type="AnimComponent">
		<SpriteSheet
			path="res/Graphics/World/AI/Bomb/bombAnims.png" 
			plistPath="res/Graphics/World/AI/Bomb/bombAnims.plist">
			
			<Anim 	type="Idle"			
					frameNamePattern="bomb_idle%d.png"
					frameCount="1"
					timeBetweenFrames="0.1"
			/>
			
			<Anim	type="Signal"
					frameNamePattern="bomb_signal%d.png"
					frameCount="2"
					timeBetweenFrames="0.1"
			/>
		</SpriteSheet>						
	</Component>
	
	<Component 	type="HitAttackComponent"
				secondsBetweenAttacks="0.2" 
				comboExpireTime="0.6"
				attackRange="60"				
				staminaConsumption="20">
	</Component>
	
	<Component type="RigidBodyComponent">
		<PhysicsMaterial density="0.1" restitution="0" friction="0.3" />
		<AnchorPosition x="0" y="1" />
		<PhysicsBody
			shape="box"
			width="250"
			height="200"
			isDynamic="true" 
			isGravityEnabled="false"
			isRotationEnabled="false"
			collisionBitMask="1"
			forceScale="60"		
			/>
	</Component>
	
	<!-- Used for sprite sorting layer detection -->
	<Component type="NodeComponent">
		<Component type="RigidBodyComponent">
			<AnchorPosition x="0" y="0" />
			<PhysicsMaterial density="0.1" restitution="0.1" friction="0.3" />
			<PhysicsBody
				shape="box"
				width="280"
				height="280"
				isDynamic="false" 
				isGravityEnabled="false" 
				isRotationEnabled="false"
				collisionBitMask="2"
				forceScale="0"
				/>
		</Component>
	</Component>
	
</Entity>
